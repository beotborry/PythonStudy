Chapter 4
================

### Function

이번에는 파이썬에서 함수를 정의, 호출하는 방식에 대해서 다뤄보고자 합니다. C/C++에서 보다 더욱 간략한 방식으로 함수를 정의합니다.

    >>> def hello():
    ...     print("hello")
    
    >>> hello()
    hello

코드르 보면 C/C++과 크게 다르지 않습니다. 우선, 함수를 정의할 때는 `def` 키워드를 사용합니다. 여기서 확인할 수 있는 차이점은 파이썬에서는 함수의 return value의 type을 명시하지 않습니다. 그리고 뒤에 "hello"라는 함수 이름이 나와있고 `()`안에는 argument가 들어가지만 이 함수에는 따로 받는 argument가 없기 때문에 비어 있는 것을 확인할 수 있습니다.

함수의 호출은 C/C++ 과 동일합니다.

다른 형태의 함수를 살펴보겠습니다.

    >>> def add(a, b):
    ...     return a + b
    ...
    
    >>> add(3, 4)
    7

위 함수의 역할은 argument로 받는 두 수를 더해서 return 하는 것입니다.

코드를 보면 확인할 수 있듯이, argument로 받는 변수들의 타입도 따로 명시를 해주지 않습니다.

이번에는, 함수를 호출할 때 argument를 명시해주는 방식에 대해 알아보겠습니다.

    >>> def divide(numerator, denominator):
    ...     return numerator / denominator
    
    >>> divide(numerator = 4, denominator = 2)
    2.0
    >>> divide(denominator = 2, numerator = 4)
    2.0
    
위 코드처럼 함수를 호출 할 때 argument의 이름을 명시해주면 호출 시 `()` 안에서 입력 순서를 따로 고려해 주지 않아도 됩니다.

#### argument의 숫자가 정해지지 않은 경우

위에서 정의한 `add` 함수를 다시 생각해봅시다. 위에서의 코드는 입력되는 숫자가 2개임을 가정하고 작성한 코드이지만, 몇 개의 숫자가 입력되지 못하는 상황에서 덧셈의 결과를 반환하는 함수가 작성이 필요한 경우도 생각해 볼 수 있습니다.

이 경우에는 `*`(aestroid)를 사용해서 다음과 같이 코드를 작성할 수 있습니다.

    >>> def add(*args):
    ...     ret = 0
    ...     for num in args:
    ...             ret += num
    ...     return ret
    
    >>> add(1, 2, 3, 4)
    10

위 코드에서 argument를 `*args`로 받게되면, 입력되는 모든 데이터들을 하나의 튜플로 만들어서 처리하게 됩니다. 그리고 꼭 `*args`처럼 코드를 작성해야하는 것이 아니라 `*numbers` 등 이름을 자유롭게 붙여서 사용할 수 있습니다.

#### 키워드 파라미터 **kwargs

이번에는 키워드 파라미터에 대해 알아보겠습니다.

    >>> def print_kwargs(**kwargs):
    ...     print(kwargs)

    >>> print_kwargs(a = 0)
    {'a': 0}

위 코드를 보면 arugment에 입력되는 값들이 딕셔너리의 형태로 저장되어 출력되는 것을 확인할 수 있습니다. 키워드 파라미터 역시 `**`가 중요한 것이고 뒤에 따라오는 이름은 자유롭게 지정할 수 있습니다.

#### return & return value handling

함수의 리턴 값은 항상 하나입니다. 그러나 파이썬에서는 다음과 같이 함수를 정의할 수 있습니다.

    >>> def func(a, b):
    ...     return a, b

표면적으로는 `a`, `b` 두개의 변수를 반환하고 있는 것처럼 보입니다. 그러나 실제로 이 함수를 호출하면 결과는 다음과 같습니다.

    >>> func(2, 3)
    (2, 3)

즉, 변수 각각이 따로 반환되는 것이 아니라 하나의 튜플로 묶여서 반환되는 것을 확인할 수 있습니다. 반환 값들은 다음과 같이 저장해서 사용할 수 있습니다.

    >>> first, second = func(2, 3)
    >>> print(first, second)
    2 3

종종 코드를 작성하다보면 함수가 반환하는 모든 값들을 저장하는 것이 아니라 일부만 저장할 때가 있습니다. 이때는 `_`를 사용합니다.

    >>> first, _ = func(2, 3)
    >>> print(first)
    2

위와 같이 코드를 작성함으로써, 뒤에 반환되는 `second` 변수의 값을 무시할 수 있습니다.

#### 매개변수 초기값 설정

함수를 정의할 때 argument의 초기값을 설정해서 함수 호출 시 그 argument의 값을 특정해서 넘겨주지 않을 때 그 초기값을 사용하도록 할 수 있습니다.

    >>> def add(a, b = 2):
    ...     return a + b
    ...
    >>> add(3)
    5

위 코드를 보면, 함수 호출 시 `a`에 해당하는 값인 3만 넘겨지고 `b`의 값은 특정하지 않았음에도 불구하고 `b`의 초기값인 2가 사용되어서 함수가 정상적으로 호출 된 것을 볼 수 있습니다.

여기서 주의해야 할 점은, 매개변수의 초기값을 설정하면서 함수를 정의할 때 초기값이 정해지는 매개변수는 항상 뒤쪽에 위치해야 합니다. 즉, 아래와 같이 코드를 작성하면 오류가 발생합니다.

    >>> def add(a = 2, b):
    ...     return a + b

    File "<stdin>", line 1
    SyntaxError: non-default argument follows default argument

이러한 오류가 발생하는 이유는 이렇게 함수가 정의된다면 함수 호출 시 넘겨주는 값이 어떤 argument에 대한 값인지 모호해지는 문제가 생기기 때문입니다.

#### 변수 Scope

C/C++ 에서는 pointer나 reference를 이용하여 함수 밖에 정의된 변수의 값을 변경할 수 있습니다. 그러나 파이썬에서는 pointer가 존재하기 때문에 기본적으로는 함수 밖의 변수 값을 변경할 수 없습니다.

    >>> a = 1
    >>> def func(a):
    ...     a = a + 1

    >>> func(a)
    >>> a
    1

위 코드를 보면 함수 밖에 정의된 변수 `a`의 값은 변경되지 않는 것을 확인할 수 있습니다.

그래서 함수 밖의 변수 값을 변경하기 위해서는 함수가 변경된 값을 return 하도록 해서 그 값을 밖의 변수에 할당하는 방식으로 코드를 작성해야 합니다.

    >>> def func(a):
    ...     return a + 1

    >>> a = func(a)
    >>> a
    2

#### lambda 표현식

lambda 표현식은 함수 안 코드가 비교적 간단하거나 `def` 키워드를 사용할 수 없을 때 쓰입니다.

위에서 정의된 `add` 함수를 lambda 표현식을 이용하여 다음과 같이 간단하게 작성할 수 있다.

    >>> add = lambda a, b: a + b
    >>> add(2,3)
    5

